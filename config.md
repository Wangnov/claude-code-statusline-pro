我的这个工具的配置十分混乱, 你来帮我梳理一下我的配置. 我需要使用一个config.toml管理，不再使用原本的statusline.config.toml。同时， 所有功能应该可以使用CLI的config来可交互的配置。
我有以下要求: 

0.启动自动终端检测机制, 检测终端能力并选择应用什么样式的图标.
0.1 检测到nerdfont支持, 优先启用nerdfont图标.
0.2 没检测到nerdfont支持, 优先启用emoji图标
0.3 没检测到nerdfont和emoji支持, 回退到文本图标
以上内容不需要在config里体现。
0.4 开启debug模式

1. 可在config中强制指定nerdfont/emoji/文本图标
2. 用户在config中的配置, 可以自己选择每个组件是否开启, 以及排布组件顺序(只能使用preset来控制)
3. 用户的每个组件可以自己统一配置功能和样式, 如下: 
4.1 通用配置: 是否开启颜色（默认开启），图标色(仅nerdfont和文本可以修改图标色, emoji改不了), 文字色, 文本图标, emoji图标, 
nerdfont图标(其中status是一个复合组件, 图标自己根据状态改变, 不受通用配置影响)
4.2 项目组件: 无特殊配置
4.3 模型组件: 是否显示全称, 自定义模型名映射
4.3 分支组件: 没有git的时候是否显示
4.4 tokens组件: 是否显示彩色渐变进度条, 进度条的status_icon的emoji图标, nerd font图标, 文本图标, 
进度条阈值, 进度条三级颜色(渐变不受这个影响), 是否显示进度条, 进度条宽度, 
上下文窗口大小的模型映射(目前所有模型都是200k)
4.5 状态组件: 是否显示最近错误, 不同状态的三级图标, 不同状态的颜色. 
1. 分隔符: 分隔符内容, 分隔符颜色(默认白色), 分隔符前(默认一个空格), 分隔符后(默认一个空格)
2. 主题: 共3种
6.1 Classic主题, 也就是默认的主题, 支持三级回退的终端能力
6.2 Powerline主题, 仅限nerdfont能力支持下的终端开启. 无视分隔符的设置, 无视是否开启彩色渐变进度条,强制启用彩色渐变.强制开启更丰富的nerd font细粒度进度条，但没有阴影。
6.3 Capsule主题，仅限nerdfont能力支持下的终端开启. 无视分隔符的设置, 无视是否开启彩色渐变进度条,强制启用彩色渐变.强制开启更丰富的nerd font细粒度进度条，但没有阴影。