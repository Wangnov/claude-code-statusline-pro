# Claude Code Statusline 配置文件 | Configuration File
# TOML格式 - 简洁明了的配置语言 | TOML format - Simple and clear configuration language

# 预设组件排布 | Preset component layout
# P=project, M=model, B=branch, T=tokens, S=status
# 例如: "PMBTS"=全部组件, "MT"=仅模型和token | Example: "PMBTS"=all components, "MT"=only model and tokens
preset = "PMBTS"
  
# ================================
# 显示组件配置 | Component Configuration
# ================================
[components]
# 组件显示顺序（从左到右） | Component display order (left to right)
order = ["project", "model", "branch", "tokens", "status"]

# 项目名称显示 | Project name display
[components.project]
enabled = true
icon = "📁"
nerd_icon = "\U0000f07b"          # Font Awesome folder | Font Awesome folder
color = "magenta"
show_when_empty = false

# 模型信息显示 | Model information display
[components.model]
enabled = true
icon = "🤖"
nerd_icon = "\U0000f085"          # Font Awesome cogs (机器/模型) | Font Awesome cogs (machine/model)
color = "cyan" 
show_full_name = false  # true显示完整模型名，false显示缩写 | true shows full model name, false shows abbreviation

# 自定义模型显示名称 | Custom model display names
[components.model.custom_names]
"claude-sonnet-4" = "S4"
"claude-opus-4.1" = "O4.1"
"claude-haiku-3.5" = "H3.5"

# Git分支显示 | Git branch display
[components.branch]
enabled = true
icon = "🌿"
nerd_icon = "\U0000f126"          # Font Awesome code-branch | Font Awesome code-branch
color = "green"
show_when_no_git = false
max_length = 20  # 分支名最大长度，超过会截断 | Maximum branch name length, truncated if exceeded

# Token使用情况显示 | Token usage display
[components.tokens]
enabled = true
icon = "📊"
nerd_icon = "\U0000f080"          # Font Awesome bar-chart | Font Awesome bar-chart
show_progress_bar = true
show_percentage = true  
show_absolute = true    # 显示绝对数值如 160k/200k | Show absolute values like 160k/200k

# Token颜色配置 | Token color configuration
[components.tokens.colors]
safe = "green"      # <60%
warning = "yellow"  # 60-85%  
danger = "red"      # 85%+

# Token阈值配置 | Token threshold configuration
[components.tokens.thresholds]
warning = 60        # 警告阈值百分比 | Warning threshold percentage
danger = 85         # 危险阈值百分比 | Danger threshold percentage
backup = 85         # 后备区域开始百分比 | Backup zone start percentage
critical = 95       # 深度后备区域百分比 | Critical backup zone percentage

# 状态图标配置 | Status icon configuration
[components.tokens.status_icons]
backup = "⚡"        # 进入后备区域 | Entering backup zone
critical = "🔥"      # 深度后备区域 | Deep backup zone

# 状态信息显示 | Status information display
[components.status]
enabled = true
show_recent_errors = true  # 显示最近错误提示 | Show recent error hints

# 状态图标配置 | Status icon configuration
[components.status.icons]
ready = "✅"
thinking = "💭"
tool = "🔧" 
error = "❌"
warning = "⚠️"

# Nerd Font状态图标配置 | Nerd Font status icon configuration
[components.status.nerd_icons]
ready = "\U0000f00c"            # Font Awesome check
thinking = "\U0000f110"         # Font Awesome spinner
tool = "\U0000f0ad"             # Font Awesome wrench
error = "\U0000f00d"            # Font Awesome times
warning = "\U0000f071"          # Font Awesome exclamation-triangle

# 状态颜色配置 | Status color configuration
[components.status.colors]
ready = "green"
thinking = "yellow"
tool = "blue"
error = "red"

# ================================
# 全局样式配置 | Global Style Configuration
# ================================
[style]
separator = " | "               # 组件间分隔符 | Component separator
enable_colors = "auto"          # true/false/"auto"(自动检测终端支持) | true/false/"auto"(auto-detect terminal support)
enable_emoji = "auto"           # true/false/"auto"(自动检测终端支持) | true/false/"auto"(auto-detect terminal support)
enable_nerd_font = "auto"       # true/false/"auto"(自动检测Nerd Font支持) | true/false/"auto"(auto-detect Nerd Font support)
compact_mode = false            # 紧凑模式，减少空格和图标 | Compact mode, reduce spaces and icons
max_width = 0                   # 最大宽度限制，0表示无限制 | Maximum width limit, 0 means unlimited

# ================================
# 高级配置 | Advanced Configuration
# ================================
[advanced]
cache_enabled = true            # 启用transcript解析缓存 | Enable transcript parsing cache
recent_error_count = 5         # 检查最近错误的消息数量 | Number of recent messages to check for errors
git_timeout = 1000              # git命令超时时间(ms) | Git command timeout (ms)
debug_mode = false              # 调试模式，显示接收的JSON数据 | Debug mode, show received JSON data

# 自定义ANSI颜色代码 | Custom ANSI color codes
[advanced.custom_color_codes]
# 示例：添加自定义颜色 | Example: Add custom colors
# orange = "\x1b[38;5;208m"

# ================================  
# 实验性功能 | Experimental Features
# ================================
[experimental]
show_context_health = false     # 显示上下文健康度指标 | Show context health metrics
adaptive_colors = false         # 根据usage动态调整所有颜色 | Dynamically adjust all colors based on usage
show_timestamp = false          # 显示最后更新时间 | Show last update time
show_session_info = false       # 显示会话相关信息 | Show session-related information
force_nerd_font = false         # 强制启用Nerd Font（用于测试） | Force enable Nerd Font (for testing)

# ================================
# 预设配置映射 | Preset Configuration Mapping
# ================================
# 根据preset字符串自动配置组件启用状态和顺序
# Auto-configure component enablement and order based on preset string

# 组件字母映射 | Component letter mapping
[preset_mapping]
P = "project"     # 项目名称 | Project name
M = "model"       # 模型信息 | Model information  
B = "branch"      # Git分支 | Git branch
T = "tokens"      # Token使用情况 | Token usage
S = "status"      # 状态信息 | Status information

# ================================
# 快捷配置模板 | Quick Configuration Templates
# ================================

# 无色彩模式（适用于不支持颜色的终端） | No-color mode (for terminals that don't support colors)
[templates.no_color]
description = "禁用所有颜色和表情符号 | Disable all colors and emoji"

[templates.no_color.style]
enable_colors = false
enable_emoji = false

# 高对比度模式 | High contrast mode
[templates.high_contrast]
description = "高对比度显示，提升可读性 | High contrast display for better readability"

[templates.high_contrast.components.tokens.colors]
safe = "bright_green"
warning = "bright_yellow" 
danger = "bright_red"